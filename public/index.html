<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Curriculum Information Management System: CIMS</title>

<!--CSS-->
<link rel="stylesheet" href="/jquery-ui/themes/base/jquery-ui.css">

<!--Javascript-->
<!--<script src="/jquery/jquery.min.js"></script>-->
<!--<script src="/jquery-ui/jquery-ui.min.js"></script>-->
<script src="/js-cookies/js.cookie.min.js"></script>

<!--<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">-->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>

<!--https://bbbootstrap.com/snippets/multi-step-form-wizard-30467045# -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.3/css/font-awesome.css">
<link rel="stylesheet" href="styles/style.min.css">
</head>
<body>
    
    <h1>Curriculum Information Management System: CIMS</h1>

    <nav class="navbar navbar-dark bg-dark" id="nav-bar">
        <a class="navbar-brand" href="#">CIMS API-Test</a>
        <ul class="navbar-nav">
          <li class="nav-item">
           <a class="nav-link" href="/logout" >Logout</a>
          </li>
        </ul>
    </nav>
  

    <!-- MultiStep Form -->
    <div class="container-fluid" id="grad1">
        <div class="row justify-content-center mt-0">
            <div class="col-11 col-sm-9 col-md-7 col-lg-6 text-center p-0 mt-3 mb-2">
                <div class="card px-0 pt-4 pb-0 mt-3 mb-3">
                    <h2><strong>สร้างหลักสูตรใหม่ในระบบ</strong></h2>
                    <p>โปรดระบุและกรอกข้อมูลให้สอดคล้องตามแบบฟอร์ม จากนั้นกดปุ่มถัดไป หรือ ย้อนกลับ เมื่อต้องการแก้ไขข้อมูล</p>
                    <div class="row">
                        <div class="col-md-12 mx-0">
                            <form id="msform">
                                <!-- progressbar -->
                                <ul id="progressbar">
                                    <li class="active" id="general"><strong>ข้อมูลแฟ้ม 1-2</strong></li>
                                    <li id="tab1"><strong>ข้อมูลแฟ้ม 3</strong></li>
                                    <li id="tab2"><strong>ข้อมูลแฟ้ม 5-9</strong></li>
                                    <li id="confirm"><strong>Finish</strong></li>
                                </ul>
                                <!-- fieldsets -->
                                <fieldset>
                                    <div class="form-card">
                                        <h2 class="fs-title">ข้อมูลทั่วไป</h2>

                                        <div class="row">
                                            <div class="col-3">
                                                <label for="cboInstitute">กลุ่มสถาบัน</label>
                                            </div>
                                            <div class="col-12">
                                                <select class="form-control" id="cboInstitute" name="cboInstitute">
                                                    <option selected>---โปรดระบุ---</option>
                                                    <option>List</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-3">
                                                <label for="cboUniversity">มหาวิทยาลัย</label>
                                            </div>
                                            <div class="col-12">
                                                <select class="form-control" id="cboUniversity" name="cboUniversity">
                                                    <option selected>---โปรดระบุ---</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-3">
                                                <label for="cboFaculty">คณะ</label>
                                            </div>
                                            <div class="col-12">
                                                <select class="form-control" id="cboFaculty" name="cboFaculty">
                                                    <option selected>---โปรดระบุ---</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-3" style=" text-align: right;">
                                                <label for="txtDepartment">ภาควิชาฯ </label><span style="color:#dd3675;">&nbsp;&nbsp;(free) *</span>
                                            </div>
                                            <div class="col-9">
                                                <input type="text" class="form-control" id="txtDepartment">
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-3">
                                                <label for="cboCurriculum">หลักสูตร</label>
                                            </div>
                                            <div class="col-12">
                                                <select class="form-control" id="cboCurriculum" name="cboCurriculum">
                                                    <option selected>---โปรดระบุ---</option>
                                                </select>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-3" style=" text-align: right;">
                                                <label for="txtCurriculumNameTh">ชื่อหลักสูตรภาษาไทย </label><span style="color:#dd3675;">&nbsp;&nbsp;(Auto)*</span>
                                            </div>
                                            <div class="col-9">
                                                <input type="text" class="form-control" id="txtCurriculumNameTh">
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-3" style=" text-align: right;">
                                                <label for="txtAbbrCurriculumNameTh">อักษรย่อ ภาษาไทย </label><span style="color:#dd3675;">&nbsp;&nbsp;(Auto)*</span>
                                            </div>
                                            <div class="col-4">
                                                <input type="text" class="form-control" id="txtAbbrCurriculumNameTh">
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-3" style=" text-align: right;">
                                                <label for="txtCurriculumNameEn">ชื่อหลักสูตรภาษาอังกฤษ </label><span style="color:#dd3675;">&nbsp;&nbsp;(Auto)*</span>
                                            </div>
                                            <div class="col-9">
                                                <input type="text" class="form-control" id="txtCurriculumNameEn">
                                            </div>
                                        </div>

                                    </div>
                                    <input type="button" name="next" class="next action-button" value="ถัดไป"/>
                                </fieldset>
                                <fieldset>
                                    <div class="form-card">
                                        <h2 class="fs-title">ข้อมูลแฟ้ม 2</h2>
                                        <input type="text" name="fname" placeholder="First Name"/>
                                        <input type="text" name="lname" placeholder="Last Name"/>
                                        <input type="text" name="phno" placeholder="Contact No."/>
                                        <input type="text" name="phno_2" placeholder="Alternate Contact No."/>
                                    </div>
                                    <input type="button" name="previous" class="previous action-button-previous" value="ย้อนกลับ"/>
                                    <input type="button" name="next" class="next action-button" value="ถัดไป"/>
                                </fieldset>
                                <fieldset>
                                    <div class="form-card">
                                        <h2 class="fs-title">ข้อมูลแฟ้ม 3</h2>
                                    </div>
                                    <input type="button" name="previous" class="previous action-button-previous" value="ย้อนกลับ"/>
                                    <input type="button" name="next" class="next action-button" value="ถัดไป"/>
                                </fieldset>
                                <!--<fieldset>
                                    <div class="form-card">
                                        <h2 class="fs-title">Payment Information</h2>
                                        <div class="radio-group">
                                            <div class='radio' data-value="credit"><img src="https://i.imgur.com/XzOzVHZ.jpg" width="200px" height="100px"></div>
                                            <div class='radio' data-value="paypal"><img src="https://i.imgur.com/jXjwZlj.jpg" width="200px" height="100px"></div>
                                            <br>
                                        </div>
                                        <label class="pay">Card Holder Name*</label>
                                        <input type="text" name="holdername" placeholder=""/>
                                        <div class="row">
                                            <div class="col-9">
                                                <label class="pay">Card Number*</label>
                                                <input type="text" name="cardno" placeholder=""/>
                                            </div>
                                            <div class="col-3">
                                                <label class="pay">CVC*</label>
                                                <input type="password" name="cvcpwd" placeholder="***"/>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-3">
                                                <label class="pay">Expiry Date*</label>
                                            </div>
                                            <div class="col-9">
                                                <select class="list-dt" id="month" name="expmonth">
                                                    <option selected>Month</option>
                                                    <option>January</option>
                                                    <option>February</option>
                                                    <option>March</option>
                                                    <option>April</option>
                                                    <option>May</option>
                                                    <option>June</option>
                                                    <option>July</option>
                                                    <option>August</option>
                                                    <option>September</option>
                                                    <option>October</option>
                                                    <option>November</option>
                                                    <option>December</option>
                                                </select>
                                                <select class="list-dt" id="year" name="expyear">
                                                    <option selected>Year</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <input type="button" name="previous" class="previous action-button-previous" value="Previous"/>
                                    <input type="button" name="make_payment" class="next action-button" value="Confirm"/>
                                </fieldset> -->
                                <fieldset>
                                    <div class="form-card">
                                        <h2 class="fs-title text-center">Success !</h2>
                                        <br><br>
                                        <div class="row justify-content-center">
                                            <div class="col-3">
                                                <img src="https://img.icons8.com/color/96/000000/ok--v2.png" class="fit-image">
                                            </div>
                                        </div>
                                        <br><br>
                                        <div class="row justify-content-center">
                                            <div class="col-7 text-center">
                                                <h5>You Have Successfully Signed Up</h5>
                                            </div>
                                        </div>
                                    </div>
                                </fieldset>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>





</body>
<script type="text/javascript">
    $(document).ready(function () {

       var tokenValue = Cookies.get('token') ;

       console.log("Onload");
       console.log("token "+tokenValue);

       //removeCookie;
       //Cookies.remove('token')
       //set
       //Cookies.set('name', 'value', { expires: 7 })



       $.ajax({
            method: "GET",
            url: "https://tools.ecpe.nu.ac.th/cims/api/institutes",
            dataType : 'json',
            headers: { 
              'Content-Type': 'application/json',
              "Accepts": "application/json",
              "Authorization": "Bearer "+tokenValue,
            },
            success: function(data){
              console.log(data);
              console.log(data.data);
              var list =data.data.institutes;

              console.log(list.length);
              var options = '';
              for (var i = 0; i < list.length; i++) {
                options += '<option value="' + list[i].institute_type_id + '">' + list[i].institute_type_name + '</option>';
              }
             $("select#cboInstitute").html(options);
              

              //alert("Done");
            }
        });


        var current_fs, next_fs, previous_fs; //fieldsets
        var opacity;

        $(".next").click(function(){
            
            current_fs = $(this).parent();
            next_fs = $(this).parent().next();
            
            //Add Class Active
            $("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");
            
            //show the next fieldset
            next_fs.show(); 
            //hide the current fieldset with style
            current_fs.animate({opacity: 0}, {
                step: function(now) {
                    // for making fielset appear animation
                    opacity = 1 - now;

                    current_fs.css({
                        'display': 'none',
                        'position': 'relative'
                    });
                    next_fs.css({'opacity': opacity});
                }, 
                duration: 600
            });
        });

        $(".previous").click(function(){
            
            current_fs = $(this).parent();
            previous_fs = $(this).parent().prev();
            
            //Remove class active
            $("#progressbar li").eq($("fieldset").index(current_fs)).removeClass("active");
            
            //show the previous fieldset
            previous_fs.show();

            //hide the current fieldset with style
            current_fs.animate({opacity: 0}, {
                step: function(now) {
                    // for making fielset appear animation
                    opacity = 1 - now;

                    current_fs.css({
                        'display': 'none',
                        'position': 'relative'
                    });
                    previous_fs.css({'opacity': opacity});
                }, 
                duration: 600
            });
        });

        $('.radio-group .radio').click(function(){
            $(this).parent().find('.radio').removeClass('selected');
            $(this).addClass('selected');
        });

        $(".submit").click(function(){
            return false;
        });
      
    });
</script>
</html>